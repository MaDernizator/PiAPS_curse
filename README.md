# PiAPS_curse

## Telegram Bot

В проект добавлен простой телеграм‑бот, использующий API приложения. Он поддерживает следующие команды:

- `/login` – интерактивная авторизация через e‑mail и пароль. После входа бот автоматически присылает новые уведомления при их появлении.
- `/notifications` – вручную выводит непрочитанные уведомления

### Запуск

1. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
2. Укажите переменные окружения:
   - `TELEGRAM_TOKEN` – токен вашего бота
   - `API_URL` – адрес запущенного приложения (по умолчанию `http://localhost:5000`)
3. Запустите бота:
   ```bash
   python telegram_bot.py
   ```

При запуске через Docker `entrypoint.sh` автоматически стартует бота,
если задана переменная окружения `TELEGRAM_TOKEN`.


## Уведомления в браузере

При входе на сайт можно разрешить показ системных уведомлений. Браузер будет
раз в минуту опрашивать сервер и выводить новые сообщения через стандартный
механизм Web Notification. На Windows они появляются как всплывающие окна.

Никаких дополнительных настроек не требуется. Просто согласитесь на получение
уведомлений при первом посещении сайта.

## Консольный клиент для просмотра логов

В репозиторий добавлен простой скрипт `console_client.py`. Он позволяет
администратору просматривать логи сервера прямо в терминале.

### Запуск

1. Установите зависимости, если ещё не сделали этого:
   ```bash
   pip install -r requirements.txt
   ```
2. Запустите клиент, передав учётные данные администратора.
   При необходимости укажите адрес развернутого приложения с помощью `--url`:
   ```bash
   python console_client.py --email admin@example.com --password admin --url https://example.com
   ```
   Для непрерывного отслеживания новых записей используйте флаг `--watch`.

Клиент использует переменную окружения `API_URL` (по умолчанию
`http://localhost:5000`) для подключения к запущенному приложению.
